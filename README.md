# RT_MIC_TASK
Тестовое задание по автоматиции тестирования.

## Инструкция
Распаковать и открыть ваше виртуальное окуржении. Все необходимые библиотеки  находяться в файле "req.txt".
Установите все используемые библиотеки так:

```
pip install -r req.txt
```

## Файл конфигураций и настройка.
Конфигурации проекта находиться в ".configuration/config.ini". Состоит из 3 "Контейнеров", первый - содержит общие стадартные данные о всех тестах, второй - специальные аргументы второго теста, третий - имеет список n - тестируемых элементов.
Стандартное время ожидания всех элементов на стр.:

```
standard_waiting_time = 8
```
Первый блок:
Домен - тестирования скорости:

```
first_url = https://yandex.ru/internet
```
Время ожидания замеров на шаге 4(если надо указывать несколько данных, то указываем через запятую):

```
time_limit_four = 40,30,20
```
Ограничитель минимального кол-во скорости интернет(если надо указывать несколько данных, то указываем через запятую):

```
speed_limited = 54.23,53.23
```
Второй блок:
Состоит из n кол-во строк. Принимается в формате(id = domain_name,login,pass):
```
1 = https://demo.rtmis.ru/,autotest_123,autotest_123
```
## Отчётность Allure и скриншоты.
Все сборочные файлы для allure создаються после каждого теста, находяться по адресу ".results/". Команда для запуска тестов:
```
pytest --alluredir results -v --tb=line --fl=1,2
```
ВНИМАНИЕ: Для запуска Allure отчётов у вас он должен быть установлен на OC и прописан путь до "allure.bat" в переменные окружения.
После прохождения теста вы можете запустить локальный сервер allure так:

```
allure serve results
```
В полном описании тестов вы можете найти отчёт о каждом шаге и скриншот в случае падения теста.
## Специальный команды Флга для запуска и возможности запуска теста.
---
Запуск будет осуществляется через фреймворк pytest, для запуска тестов используйте:
```
pytest --alluredir results -v --tb=line --fl=1,2,3
```
Фаг --fl=id1,id2,id3 
Найдёт все указанные в config.ini в блоке "[manydomain info]" id, и запустит все тесты с найденными id. В случае если флаг не указан, запускаться тестирование всех сценариев. 
## Для получения простого отчёта используйте
---
Отчёт будет в файле "report.html"
```
pytest --html=report.html --self-contained-html
```


## Информация о прошедших тестах
---
Логи находятся в папке \reports\base_report.log
